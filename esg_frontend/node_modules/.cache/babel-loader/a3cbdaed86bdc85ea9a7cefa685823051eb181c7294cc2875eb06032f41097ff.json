{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ESGDataFetcher=()=>{const[companyData,setCompanyData]=useState(null);const[ticker,setTicker]=useState('');const[error,setError]=useState(null);const fetchCompanyData=async()=>{try{// Fetching data from all tables for a specific ticker\nconst response=await fetch(\"/esg_api/all_tables/\".concat(ticker));if(!response.ok){throw new Error('Failed to fetch company data');}const data=await response.json();setCompanyData(data);setError(null);}catch(err){setError(err.message);setCompanyData(null);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"p-4 max-w-md mx-auto\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold mb-4\",children:\"ESG Company Scores\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:ticker,onChange:e=>setTicker(e.target.value.toUpperCase()),placeholder:\"Enter Company Ticker\",className:\"border p-2 mr-2 flex-grow\"}),/*#__PURE__*/_jsx(\"button\",{onClick:fetchCompanyData,className:\"bg-blue-500 text-white p-2 rounded\",children:\"Fetch Data\"})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\",children:error}),companyData&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow-md rounded p-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-semibold mb-2\",children:[ticker,\" ESG Scores\"]}),Object.entries(companyData).map(_ref=>{let[source,scores]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium\",children:source}),/*#__PURE__*/_jsx(\"pre\",{className:\"bg-gray-100 p-2 rounded text-sm\",children:JSON.stringify(scores,null,2)})]},source);})]})]});};export default ESGDataFetcher;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","ESGDataFetcher","companyData","setCompanyData","ticker","setTicker","error","setError","fetchCompanyData","response","fetch","concat","ok","Error","data","json","err","message","className","children","type","value","onChange","e","target","toUpperCase","placeholder","onClick","Object","entries","map","_ref","source","scores","JSON","stringify"],"sources":["/Users/isabellamercado/DATA259/ESG_Score_API/esg_frontend/src/Components/ESGDataFetcher.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst ESGDataFetcher = () => {\n  const [companyData, setCompanyData] = useState(null);\n  const [ticker, setTicker] = useState('');\n  const [error, setError] = useState(null);\n\n  const fetchCompanyData = async () => {\n    try {\n      // Fetching data from all tables for a specific ticker\n      const response = await fetch(`/esg_api/all_tables/${ticker}`);\n      \n      if (!response.ok) {\n        throw new Error('Failed to fetch company data');\n      }\n      \n      const data = await response.json();\n      setCompanyData(data);\n      setError(null);\n    } catch (err) {\n      setError(err.message);\n      setCompanyData(null);\n    }\n  };\n\n  return (\n    <div className=\"p-4 max-w-md mx-auto\">\n      <h2 className=\"text-2xl font-bold mb-4\">ESG Company Scores</h2>\n      \n      <div className=\"flex mb-4\">\n        <input \n          type=\"text\" \n          value={ticker}\n          onChange={(e) => setTicker(e.target.value.toUpperCase())}\n          placeholder=\"Enter Company Ticker\"\n          className=\"border p-2 mr-2 flex-grow\"\n        />\n        <button \n          onClick={fetchCompanyData}\n          className=\"bg-blue-500 text-white p-2 rounded\"\n        >\n          Fetch Data\n        </button>\n      </div>\n\n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded\">\n          {error}\n        </div>\n      )}\n\n      {companyData && (\n        <div className=\"bg-white shadow-md rounded p-4\">\n          <h3 className=\"text-xl font-semibold mb-2\">{ticker} ESG Scores</h3>\n          {Object.entries(companyData).map(([source, scores]) => (\n            <div key={source} className=\"mb-3\">\n              <h4 className=\"font-medium\">{source}</h4>\n              <pre className=\"bg-gray-100 p-2 rounded text-sm\">\n                {JSON.stringify(scores, null, 2)}\n              </pre>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default ESGDataFetcher;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,cAAc,CAAGA,CAAA,GAAM,CAC3B,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CACpD,KAAM,CAACQ,MAAM,CAAEC,SAAS,CAAC,CAAGT,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACU,KAAK,CAAEC,QAAQ,CAAC,CAAGX,QAAQ,CAAC,IAAI,CAAC,CAExC,KAAM,CAAAY,gBAAgB,CAAG,KAAAA,CAAA,GAAY,CACnC,GAAI,CACF;AACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,wBAAAC,MAAA,CAAwBP,MAAM,CAAE,CAAC,CAE7D,GAAI,CAACK,QAAQ,CAACG,EAAE,CAAE,CAChB,KAAM,IAAI,CAAAC,KAAK,CAAC,8BAA8B,CAAC,CACjD,CAEA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCZ,cAAc,CAACW,IAAI,CAAC,CACpBP,QAAQ,CAAC,IAAI,CAAC,CAChB,CAAE,MAAOS,GAAG,CAAE,CACZT,QAAQ,CAACS,GAAG,CAACC,OAAO,CAAC,CACrBd,cAAc,CAAC,IAAI,CAAC,CACtB,CACF,CAAC,CAED,mBACEH,KAAA,QAAKkB,SAAS,CAAC,sBAAsB,CAAAC,QAAA,eACnCrB,IAAA,OAAIoB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,oBAAkB,CAAI,CAAC,cAE/DnB,KAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBrB,IAAA,UACEsB,IAAI,CAAC,MAAM,CACXC,KAAK,CAAEjB,MAAO,CACdkB,QAAQ,CAAGC,CAAC,EAAKlB,SAAS,CAACkB,CAAC,CAACC,MAAM,CAACH,KAAK,CAACI,WAAW,CAAC,CAAC,CAAE,CACzDC,WAAW,CAAC,sBAAsB,CAClCR,SAAS,CAAC,2BAA2B,CACtC,CAAC,cACFpB,IAAA,WACE6B,OAAO,CAAEnB,gBAAiB,CAC1BU,SAAS,CAAC,oCAAoC,CAAAC,QAAA,CAC/C,YAED,CAAQ,CAAC,EACN,CAAC,CAELb,KAAK,eACJR,IAAA,QAAKoB,SAAS,CAAC,iEAAiE,CAAAC,QAAA,CAC7Eb,KAAK,CACH,CACN,CAEAJ,WAAW,eACVF,KAAA,QAAKkB,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC7CnB,KAAA,OAAIkB,SAAS,CAAC,4BAA4B,CAAAC,QAAA,EAAEf,MAAM,CAAC,aAAW,EAAI,CAAC,CAClEwB,MAAM,CAACC,OAAO,CAAC3B,WAAW,CAAC,CAAC4B,GAAG,CAACC,IAAA,MAAC,CAACC,MAAM,CAAEC,MAAM,CAAC,CAAAF,IAAA,oBAChD/B,KAAA,QAAkBkB,SAAS,CAAC,MAAM,CAAAC,QAAA,eAChCrB,IAAA,OAAIoB,SAAS,CAAC,aAAa,CAAAC,QAAA,CAAEa,MAAM,CAAK,CAAC,cACzClC,IAAA,QAAKoB,SAAS,CAAC,iCAAiC,CAAAC,QAAA,CAC7Ce,IAAI,CAACC,SAAS,CAACF,MAAM,CAAE,IAAI,CAAE,CAAC,CAAC,CAC7B,CAAC,GAJED,MAKL,CAAC,EACP,CAAC,EACC,CACN,EACE,CAAC,CAEV,CAAC,CAED,cAAe,CAAA/B,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}